\chapter{Daten}
\label{daten}
Um die Korrektheit von Link Predictions testen zu können, und um die Güte der verschiedenen Algorithmen bestimmen zu können werden bestehende Netzwerke verwendet.
Es wurden dafür Datensets, welche von \acs{gephi} auf dem GitHub-Repository bereitgestellt werden, verwendet (vgl. \cite{moll_datasets_2018}, online).

\section{Anforderungen}
Für den Aufbau der verschiednene Tests wird ein Netzwerk zu einem bestimmten Zeitpunkt $T0$ benötigt.
Auf diesem werden anschliessend Link Predictions durchgeführt.
Der veränderte Graph wird anschliessend dem effektiven Graphen zum Zeipunkt $T1$ verglichen.
Dies bedingt, dass die Kanten mit einer Nummerierung oder einem Zeitstempel versehen sind.
Die Anforderung besteht nur für die Entwicklung und Charakterisierung der Evaluationskomponente.
Im Plugin werden Graphen unabhänging von der Reihenfolge hinzugefügter Kanten bewertet.

Bei allen Netzwerken handelt es sich um ungerichtete Graphen.
% TODO Begriffe Graph / Netzwerk abgrenzen?

\section{Datenaufbereitung}
Um die Korrektheit einzelner und die Güte mehrerer Vorhersagen am effektiven Graphen zu überprüfen, müssen die Datensets in Trainings- und Testdaten unterteilt werden.
Die Unterteilung wird anhand der Kanten gemacht. Dazu werden die Kanten aufsteigen sortiert (älteste Kanten zuerst).
Anschliessend können die ältesten 80\% der Daten dem Trainingsset und die neusten 20\% der Daten dem Testset zugeordnet werden.
Das Trainingsset bildet das Basisnetzwerk zum Zeitpunkt $T0$.
Das Testdatenset entspricht dem effektiven Netzwerk zum Zeitpunkt $T1$.

In der Tabelle \ref{dataset_info} sind die Informationen zu den einzelnen Datensets ersichtlich.

\begin{threeparttable}
    \centering
    \label{dataset_info}
    \caption{Informationen der verwendeten Datensets}
    \begin{tabular}{@{}lllr@{}}
        \toprule
        Datenset                        & Anzahl Knoten & Anzahl Kanten & Grösse \\ \midrule
        Les Miserables\tnote{1}                 & 77     & 254 & 3 KB   \\
        Coauthorships in network science\tnote{2} & 1589    & 2742 & 28 KB     \\
        Power grid\tnote{3}                       & 4941   & 6594 & 45 KB   \\ \bottomrule
    \end{tabular}
    \begin{tablenotes}[\flushleft]
        \footnotesize
        \item[1] coappearance weighted network of characters in the novel Les Miserables. D. E. Knuth, The Stanford GraphBase: A Platform for Combinatorial Computing, Addison-Wesley, Reading, MA (1993).
        \item[2] coauthorship network of scientists working on network theory and experiment, as compiled by M. Newman in May 2006. A figure depicting the largest component of this network can be found here. M. E. J. Newman, Phys. Rev. E 74, 036104 (2006).
        \item[3] An undirected, unweighted network representing the topology of the Western States Power Grid of the United States. Data compiled by D. Watts and S. Strogatz and made available on the web here. Please cite D. J. Watts and S. H. Strogatz, Nature 393, 440-442 (1998).
    \end{tablenotes}
\end{threeparttable}

\section{Charakteristiken der Netzwerke}
Um die Netzwerke beschreiben zu können, werden verschiedene Metriken berechnet.
Nach \citeauthor{gao_link_2015} (\citeyear{gao_link_2015}) weisen die nachfolgenden vier Messgrössen eine besonders starke Korrelation zum gewählten Link Prediction Algorithmus auf.

\textbf{Global Cluster Coefficient (GCC)}

Der Cluster Coeffizient zeigt das Mass der Cliquenbildung in einem Graphen (\citeauthor{michael_henninger_soziale_2018}, \citeyear{michael_henninger_soziale_2018}, 58).
Unter Cliquen wird ein Subgraph innerhalb eines Graphen, in welchem die Knoten untereinander stark verbunden sind, verstanden.
In Cliquen stammt ein Grossteil der Informationen von denselben Informationslieferanten - dank der starken Verbundenheit kann sich die Gruppe schnell austauschen.

Der lokale Cluster Coeffizient wird aus dem Quotienten der Anzahl direkten Kanten $d$ zwischen den Nachbarn eines Knoten und der maximal möglichen Anzahl direkter Kanten $ki(ki -1)$ berechnet:

\begin{equation}
    \label{eq:ci}
    C_i = \frac{2*d}{k_i(k_i-1)}
\end{equation}


Bei ungerichteten Graphen wird die Anzahl direkter Kanten mit dem Faktor 2 multipliziert. $ki$ steht für die Anzahl benachbarter Knoten.
Beim globalen Cluster Coeffizienten handelt es sich um den Mittelwert der lokalen Cluster Coefficienten.
In einem Graphen mit $N$ Knoten wird er folgendermassen berechnet:

\begin{equation}
    \label{eq:gcc}
    GCC = \frac{1}{N}\sum\limits_{i=1}^{N}C_i
% TODO Widerspruch zu Gao et. al
\end{equation}

\textbf{Density}

Die Density (dt. Dichte) eines Graphen zeigt an, wie komplett die Knoten des Netzwerkes miteinander verbunden sind.
Falls es in einem Netzwerk keine Kanten gibt, liegt der Density-Wert bei 0. Falls alle Knoten mit allen anderen Knoten verbunden sind, entspricht der Density-Wert 1.
Die Dichte ist in der Regel ein Indikator, wie schnell sich Informationen in einem Netzwerk verbreiten.
Die Density für ungerichtete Graphen berechnet sich mit unterstehender gleichen, wobei $|E|$ für die Anzahl Kanten und $|V|$ für die Anzahl Knoten steht:
%TODO Formeln vereinheitlichen

\begin{equation}
    \label{eq:density}
    Density = \frac{2|E|}{|V|*(|V|-1)}
\end{equation}


Bei grösseren Netzwerken steigt mit der Anzahl Knoten auch die Anzahl möglicher Kanten.
Häufig ist zu beobachten, dass die Anzahl direkter Verbidnungen dabei konstant bleibt - die Density nimmt bei grösseren Netzwerken folglich häufig ab (\cite{michael_henninger_soziale_2018}).

\textbf{Diameter}

Unter dem Graph Diameter (dt. Durchmesser) versteht man nach \cite{michael_henninger_soziale_2018} den \textit{längsten kürzesten Pfad} zwischen allen Knotenpaaren in einem Graphen.
Die Formel für den längsten kürzesten Pfad lautet folgendermassen:

\begin{equation}
    \label{eq:diameter}
    Diameter = max_i_jd(i,j)
\end{equation}

Wobei $d(i,j)$ der kürzeste Pfad zwischen den Knoten $i$ und $j$ ist.

\textbf{Average Shortest Path (ASP)}

Mit dem Average Shortest Path (ASP) wird die durchschnittliche Länge des kürzesten Pfads zwischen zwei Knoten $i$ und $j$ berechnet (\citeauthor{gao_link_2015}, \citeyear{gao_link_2015}, 6).
Die Formel dafür lautet folgendermassen:

\begin{equation}
    \label{eq:asp}
    ASP = \frac{1}{v * (v - 1)} * \sum\limits_{i!=j} d(i,j)
\end{equation}

Mithilfe dieser Metriken lässt sich die gesamte Netzwerkstruktur einordnen.
Tabelle \ref{tab_metrics} zeigt die berechneten Werte der verschiedenen Netzwerken.

\begin{table}[h]
    \centering
    \resizebox{\textwidth}{!}{%
    \begin{tabular}{@{}llrll@{}}
        \toprule
        Datenset                         & GCC      & Density      & Diameter & ASP      \\ \midrule
        Les Miserables                   & 0.736 & 0.087 & 5.000 & 2.641 \\
        Coauthorships in network science & 0.878 & 0.002 & 17.000 & 5.823 \\
        Power grid                       & 0.107 & 0.001 & 46.000 & 18.989 \\ \bottomrule
    \end{tabular}%
    }
    \caption{Metrikwerte der Netzwerke}
    \label{tab_metrics}
\end{table}
